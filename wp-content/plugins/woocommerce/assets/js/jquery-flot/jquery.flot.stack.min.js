jQuery.plot.plugins.push({init:function(s){s.hooks.processDatapoints.push(function(s,n,t){if(null!=n.stack&&!1!==n.stack){s=function(s,n){for(var t=null,i=0;i<n.length&&s!=n[i];++i)n[i].stack==s.stack&&(t=n[i]);return t}(n,s.getData());if(s){for(var i,l,o,e,u,f,p,a=t.pointsize,r=t.points,h=s.datapoints.pointsize,c=s.datapoints.points,g=[],k=n.lines.show,s=n.bars.horizontal,m=2<a&&(s?t.format[2].x:t.format[2].y),v=k&&n.lines.steps,z=!0,d=s?1:0,y=s?0:1,D=0,b=0;!(D>=r.length);){if(f=g.length,null==r[D]){for(p=0;p<a;++p)g.push(r[D+p]);D+=a}else if(b>=c.length){if(!k)for(p=0;p<a;++p)g.push(r[D+p]);D+=a}else if(null==c[b]){for(p=0;p<a;++p)g.push(null);z=!0,b+=h}else{if(i=r[D+d],l=r[D+y],o=c[b+d],e=c[b+y],u=0,i==o){for(p=0;p<a;++p)g.push(r[D+p]);g[f+y]+=e,u=e,D+=a,b+=h}else if(o<i){if(k&&0<D&&null!=r[D-a]){for(l=l+(r[D-a+y]-l)*(o-i)/(r[D-a+d]-i),g.push(o),g.push(l+e),p=2;p<a;++p)g.push(r[D+p]);u=e}b+=h}else{if(z&&k){D+=a;continue}for(p=0;p<a;++p)g.push(r[D+p]);k&&0<b&&null!=c[b-h]&&(u=e+(c[b-h+y]-e)*(i-o)/(c[b-h+d]-o)),g[f+y]+=u,D+=a}z=!1,f!=g.length&&m&&(g[f+2]+=u)}if(v&&f!=g.length&&0<f&&null!=g[f]&&g[f]!=g[f-a]&&g[f+1]!=g[f-a+1]){for(p=0;p<a;++p)g[f+a+p]=g[f+p];g[f+1]=g[f-a+1]}}t.points=g}}})},options:{series:{stack:null}},name:"stack",version:"1.2"});