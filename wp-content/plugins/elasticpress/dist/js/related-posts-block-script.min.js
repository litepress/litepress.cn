!function(){"use strict";var e={5251:function(e,t,r){var s=r(9196),n=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;n=o("react.element"),o("react.fragment")}var l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var s,o={},c=null,p=null;for(s in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(p=t.ref),t)i.call(t,s)&&!a.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===o[s]&&(o[s]=t[s]);return{$$typeof:n,type:e,key:c,ref:p,props:o,_owner:l.current}}t.jsx=c,t.jsxs=c},5893:function(e,t,r){e.exports=r(5251)},9196:function(e){e.exports=window.React}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,r),o.exports}!function(){var e=r(5893);const{__:t}=wp.i18n,{AlignmentToolbar:s,BlockControls:n,InspectorControls:o}=wp.editor,{PanelBody:l,Placeholder:i,Spinner:a,QueryControls:c}=wp.components,{Fragment:p,Component:d,RawHTML:u}=wp.element,{addQueryArgs:f}=wp.url;var m=class extends d{constructor(e){super(e),this.state={posts:!1}}componentDidMount(){const e=wp.data.select("core/editor").getCurrentPostId()??0;wp.apiFetch({path:f(`/wp/v2/posts/${e}/related`,{number:100})}).then((e=>{this.setState({posts:e})})).catch((()=>{this.setState({posts:!1})}))}render(){const{attributes:{alignment:r,number:d},setAttributes:f,className:m}=this.props,{posts:h}=this.state,x=h.length>d?h.slice(0,d):h;return(0,e.jsxs)(p,{children:[(0,e.jsx)(n,{children:(0,e.jsx)(s,{value:r,onChange:e=>f({alignment:e})})}),(0,e.jsx)(o,{children:(0,e.jsx)(l,{title:t("Related Post Settings"),children:(0,e.jsx)(c,{numberOfItems:d,onNumberOfItemsChange:e=>f({number:e})})})}),(0,e.jsx)("div",{className:m,children:!1===x||0===x.length?(0,e.jsx)(i,{icon:"admin-post",label:t("Related Posts"),children:!1===h?(0,e.jsx)(a,{}):t("No related posts yet.")}):(0,e.jsx)("ul",{style:{textAlign:r},children:x.map((r=>{const s=r.title.rendered.trim();return(0,e.jsx)("li",{children:(0,e.jsx)("a",{href:r.link,children:s?(0,e.jsx)(u,{children:s}):t("(Untitled)","elasticpress")})},r.id)}))})})]})}};const{registerBlockType:h}=wp.blocks;h("elasticpress/related-posts",{title:"Related Posts (ElasticPress)",supports:{align:!0},category:"widgets",attributes:{alignment:{type:"string",default:"none"},number:{type:"number",default:5}},edit:t=>(0,e.jsx)(m,{...t}),save:()=>null})}()}();