window.yith=window.yith||{},function(n,e){e.ui=e.ui||{};var o=function(n){if("string"==typeof n)return n;var e=[];for(var t of n)t&&e.indexOf(t)<0&&e.push(o(t));return e.join(" ")},t=function(n){n.stopPropagation()};e.ui.confirm=function(t){var l={title:!1,message:!1,onCreate:!1,onConfirm:!1,onCancel:!1,onClose:!1,classes:{wrap:"",content:"",title:"",message:"",footer:"",cancel:"",confirm:""},confirmButtonType:"confirm",cancelButton:yith_plugin_fw_ui.i18n.cancel,confirmButton:yith_plugin_fw_ui.i18n.confirm,width:350,closeAfterConfirm:!0,allowWpMenu:!1,allowWpMenuInMobile:!1,showClose:!0,closeWhenClickingOnOverlay:!1},i={};t=void 0!==t?t:{},(t=n.extend({},l,t)).classes=n.extend({},l.classes,t.classes);var s={wrap:o(["yith-plugin-fw__confirm__wrap",t.classes.wrap]),content:o(["yith-plugin-fw__confirm__content",t.classes.content]),title:o(["yith-plugin-fw__confirm__title",t.classes.title]),message:o(["yith-plugin-fw__confirm__message",t.classes.message]),footer:o(["yith-plugin-fw__confirm__footer",t.classes.footer]),cancel:o(["yith-plugin-fw__confirm__button","yith-plugin-fw__confirm__button--cancel",t.classes.cancel]),confirm:o(["yith-plugin-fw__confirm__button","yith-plugin-fw__confirm__button--"+t.confirmButtonType,t.classes.confirm])},c={message:!1,footer:!1,cancel:!1,confirm:!1},a=!1,r=function(){a&&a.close(),a=!1},f=function(){"function"==typeof t.onCancel&&t.onCancel(),r()},p=function(){"function"==typeof t.onConfirm&&t.onConfirm(),t.closeAfterConfirm&&r()},m=function(){c.cancel.on("click",f),c.confirm.on("click",p)};(function(){c.message=n('<div class="'+s.message+'">'),c.footer=n('<div class="'+s.footer+'">'),c.cancel=n('<span class="'+s.cancel+'">'+t.cancelButton+"</span>"),c.confirm=n('<span class="'+s.confirm+'">'+t.confirmButton+"</span>"),t.message&&c.message.html(t.message),c.footer.append(c.cancel),c.footer.append(c.confirm),a=e.ui.modal({classes:{wrap:s.wrap,title:s.title,content:s.content},title:t.title,content:[c.message,c.footer],width:t.width,allowWpMenu:t.allowWpMenu,allowWpMenuInMobile:t.allowWpMenuInMobile,showClose:t.showClose,onCreate:t.onCreate,onClose:t.onClose,closeWhenClickingOnOverlay:t.closeWhenClickingOnOverlay})})(),m(),i.elements=n.extend({},c),i.modal=n.extend({},a),i.close=r,i.cancel=f},e.ui.modal=function(e){var l={allowWpMenu:!0,allowWpMenuInMobile:!1,title:!1,content:!1,footer:!1,showClose:!0,closeSelector:!1,classes:{wrap:"",main:"",close:"",title:"",content:"",footer:""},width:500,allowClosingWithEsc:!0,closeWhenClickingOnOverlay:!1,scrollContent:!0,onCreate:!1,onClose:!1},i={};e=void 0!==e?e:{},(e=n.extend({},l,e)).classes=n.extend({},l.classes,e.classes);var s=n("#wpwrap"),c={wrap:["yith-plugin-ui","yith-plugin-fw__modal__wrap",e.classes.wrap],main:["yith-plugin-fw__modal__main",e.classes.main],close:["yith-plugin-fw__modal__close","yith-icon","yith-icon-close",e.classes.close],title:["yith-plugin-fw__modal__title",e.classes.title],content:["yith-plugin-fw__modal__content",e.classes.content],footer:["yith-plugin-fw__modal__footer",e.classes.footer]},a={wrap:!1,main:!1,close:!1,title:!1,content:!1,footer:!1},r=function(){n(".yith-plugin-fw__modal__wrap").remove(),s.removeClass("yith-plugin-fw__modal--opened"),s.removeClass("yith-plugin-fw__modal--allow-wp-menu"),s.removeClass("yith-plugin-fw__modal--allow-wp-menu-in-mobile"),"function"==typeof e.onClose&&e.onClose()},f=function(){a.wrap=n('<div class="'+o(c.wrap)+'">'),a.main=n('<div class="'+o(c.main)+'">'),a.close=n('<span class="'+o(c.close)+'">'),a.title=n('<div class="'+o(c.title)+'">'),a.content=n('<div class="'+o(c.content)+'">'),a.footer=n('<div class="'+o(c.footer)+'">'),a.main.css({width:e.width}),e.title&&("string"==typeof e.title?a.title.html(e.title):a.title.append(e.title)),e.content&&("string"==typeof e.content?a.content.html(e.content):a.content.append(e.content)),e.showClose&&a.main.append(a.close),a.main.append(a.title),a.main.append(a.content),e.footer&&("string"==typeof e.footer?a.footer.html(e.footer):a.footer.append(e.footer),a.main.append(a.footer)),a.wrap.append(a.main),e.scrollContent&&a.wrap.addClass("yith-plugin-fw__modal__wrap--scroll-content"),s.append(a.wrap),s.addClass("yith-plugin-fw__modal--opened"),e.allowWpMenu&&s.addClass("yith-plugin-fw__modal--allow-wp-menu"),e.allowWpMenuInMobile&&s.addClass("yith-plugin-fw__modal--allow-wp-menu-in-mobile"),"function"==typeof e.onCreate&&e.onCreate()},p=function(){a.close.on("click",r),e.closeSelector&&s.on("click",e.closeSelector,r),e.closeWhenClickingOnOverlay&&(a.wrap.on("click",r),a.main.on("click",t)),n(document).on("keydown",m)},m=function(n){e.allowClosingWithEsc&&27===n.keyCode&&r()};return r(),f(),p(),i.elements=n.extend({},a),i.close=r,i}}(window.jQuery,window.yith);