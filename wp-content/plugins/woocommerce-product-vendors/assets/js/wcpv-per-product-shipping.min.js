jQuery(document).ready(function(p){"use strict";p.wc_product_vendors_per_product_shipping={init:function(){p(document.body).on("init_shipping_per_product",function(){p(document.body).trigger("init_shipping_per_product_sortable")}).on("init_shipping_per_product_sortable",function(){p(".wcpv-per-product-shipping-rules tbody").sortable({items:"tr",cursor:"move",axis:"y",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,placeholder:"wc-metabox-sortable-placeholder",start:function(t,e){e.item.css("background-color","#f6f6f6")},stop:function(t,e){e.item.removeAttr("style")}})}),p("#woocommerce-product-data").on("woocommerce_variations_added woocommerce_variations_loaded",function(){p(document.body).trigger("init_shipping_per_product")}),p("#woocommerce-product-data").on("focus",".wcpv-per-product-shipping-rules input",function(){p(".wcpv-per-product-shipping-rules tr").removeClass("current"),p(this).closest("tr").addClass("current")}).on("click",".wcpv-per-product-shipping-rules input",function(){return p(this).focus(),!0}).on("click",".wcpv-per-product-shipping-rules .remove",function(){var t=p(this).closest(".wcpv-per-product-shipping-rules").find("tbody");return t.find("tr.current").length?(t.find("tr.current").find("input").val(""),t.find("tr.current").hide()):alert(wcpv_per_product_shipping_local.i18n_no_row_selected),!1}).on("click",".wcpv-per-product-shipping-rules .insert",function(){var t=p(this).closest(".wcpv-per-product-shipping-rules").find("tbody"),e=p(this).data("postid"),r='<tr>\t\t\t\t\t\t\t<td class="sort">&nbsp;</td>\t\t\t\t\t\t\t<td class="country"><input type="text" value="" placeholder="*" name="per_product_country['+e+'][new][]" /></td>\t\t\t\t\t\t\t<td class="state"><input type="text" value="" placeholder="*" name="per_product_state['+e+'][new][]" /></td>\t\t\t\t\t\t\t<td class="postcode"><input type="text" value="" placeholder="*" name="per_product_postcode['+e+'][new][]" /></td>\t\t\t\t\t\t\t<td class="cost"><input type="text" value="" placeholder="0.00" name="per_product_cost['+e+'][new][]" /></td>\t\t\t\t\t\t\t<td class="item_cost"><input type="text" value="" placeholder="0.00" name="per_product_item_cost['+e+'][new][]" /></td>\t\t\t\t\t\t\t</tr>';return t.find("tr.current").length?t.find("tr.current").after(r):t.append(r),!1}).on("click",".wcpv-per-product-shipping-rules .export",function(){var t=p(this).data("postid"),r="data:application/csv;charset=utf-8,"+wcpv_per_product_shipping_local.i18n_product_id+","+wcpv_per_product_shipping_local.i18n_country_code+","+wcpv_per_product_shipping_local.i18n_state+","+wcpv_per_product_shipping_local.i18n_postcode+","+wcpv_per_product_shipping_local.i18n_cost+","+wcpv_per_product_shipping_local.i18n_item_cost+"\n";return p(this).closest(".wcpv-per-product-shipping-rules").find("tbody tr").each(function(){var e=t+",";p(this).find("input:not([type=hidden])").each(function(){var t=p(this).val();t=t||p(this).attr("placeholder"),e=e+t+","}),e=e.substring(0,e.length-1),r=r+e+"\n"}),p(this).attr("href",encodeURI(r)),!0}),p(document.body).trigger("init_shipping_per_product")}},p.wc_product_vendors_per_product_shipping.init()});
