"use strict";(globalThis.webpackChunk_wcAdmin_webpackJsonp=globalThis.webpackChunk_wcAdmin_webpackJsonp||[]).push([[8960],{79934:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(69307),r=o(94333),s=o(7862),a=o.n(s),i=o(92819),c=o(9818),l=o(86020),d=o(67221),m=o(81921),p=o(14599),u=o(20964),h=o(7577),_=o(27182);class v extends n.Component{constructor(){super(),this.onDateSelect=this.onDateSelect.bind(this),this.onFilterSelect=this.onFilterSelect.bind(this),this.onAdvancedFilterAction=this.onAdvancedFilterAction.bind(this)}onDateSelect(e){const{report:t,addCesSurveyForAnalytics:o}=this.props;o(),(0,p.recordEvent)("datepicker_update",{report:t,...(0,i.omitBy)(e,i.isUndefined)})}onFilterSelect(e){const{report:t,addCesSurveyForAnalytics:o}=this.props,n=e.filter||e["filter-variations"];["single_product","single_category","single_coupon","single_variation"].includes(n)&&o();const r={report:t,filter:e.filter||"all"};"single_product"===e.filter&&(r.filter_variation=e["filter-variations"]||"all"),(0,p.recordEvent)("analytics_filter",r)}onAdvancedFilterAction(e,t){const{report:o,addCesSurveyForAnalytics:n}=this.props;switch(e){case"add":(0,p.recordEvent)("analytics_filters_add",{report:o,filter:t.key});break;case"remove":(0,p.recordEvent)("analytics_filters_remove",{report:o,filter:t.key});break;case"filter":const e=Object.keys(t).reduce(((e,o)=>(e[(0,i.snakeCase)(o)]=t[o],e)),{});n(),(0,p.recordEvent)("analytics_filters_filter",{report:o,...e});break;case"clear_all":(0,p.recordEvent)("analytics_filters_clear_all",{report:o});break;case"match":(0,p.recordEvent)("analytics_filters_all_any",{report:o,value:t.match})}}render(){const{advancedFilters:e,filters:t,path:o,query:r,showDatePicker:s,defaultDateRange:a}=this.props,{period:i,compare:c,before:d,after:p}=(0,m.getDateParamsFromQuery)(r,a),{primary:u,secondary:h}=(0,m.getCurrentDates)(r,a),v={period:i,compare:c,before:d,after:p,primaryDate:u,secondaryDate:h},g=this.context;return(0,n.createElement)(l.ReportFilters,{query:r,siteLocale:_.MV.siteLocale,currency:g.getCurrencyConfig(),path:o,filters:t,advancedFilters:e,showDatePicker:s,onDateSelect:this.onDateSelect,onFilterSelect:this.onFilterSelect,onAdvancedFilterAction:this.onAdvancedFilterAction,dateQuery:v,isoDateFormat:m.isoDateFormat})}}v.contextType=u.$;const g=(0,r.compose)((0,c.withSelect)((e=>{const{woocommerce_default_date_range:t}=e(d.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings");return{defaultDateRange:t}})),(0,c.withDispatch)((e=>{const{addCesSurveyForAnalytics:t}=e(h.Ls);return{addCesSurveyForAnalytics:t}})))(v);v.propTypes={advancedFilters:a().object,filters:a().array,path:a().string.isRequired,query:a().object,showDatePicker:a().bool,report:a().string.isRequired}},22487:(e,t,o)=>{o.r(t),o.d(t,{default:()=>z});var n=o(69307),r=o(65736),s=o(94333),a=o(92819),i=o(55609),c=o(92694),l=o(70444);const d=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M2 12C2 6.44444 6.44444 2 12 2C17.5556 2 22 6.44444 22 12C22 17.5556 17.5556 22 12 22C6.44444 22 2 17.5556 2 12ZM13 11V7H11V11H7V13H11V17H13V13H17V11H13Z"}));var m=o(62907),p=o(9818),u=o(86020),h=o(67221),_=o(10431),v=o(81921),g=o(14599);const y=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M14.3 6.7l-1.1 1.1 4 4H4v1.5h13.3l-4.1 4.4 1.1 1.1 5.8-6.3z"})),f=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{fillRule:"evenodd",d:"M11.25 5h1.5v15h-1.5V5zM6 10h1.5v10H6V10zm12 4h-1.5v6H18v-6z",clipRule:"evenodd"}));var w=o(36886);const b=(0,n.lazy)((()=>Promise.all([o.e(9198),o.e(2397)]).then(o.bind(o,64742)))),k=(0,n.lazy)((()=>o.e(727).then(o.bind(o,96482)))),E=(0,n.lazy)((()=>o.e(2624).then(o.bind(o,87950)))),S=(0,c.applyFilters)("woocommerce_dashboard_default_sections",[{key:"store-performance",component:e=>(0,n.createElement)(n.Suspense,{fallback:(0,n.createElement)(u.Spinner,null)},(0,n.createElement)(E,e)),title:(0,r.__)("Performance","woocommerce"),isVisible:!0,icon:y,hiddenBlocks:["coupons/amount","coupons/orders_count","downloads/download_count","taxes/order_tax","taxes/total_tax","taxes/shipping_tax","revenue/shipping","orders/avg_order_value","revenue/refunds","revenue/gross_sales"]},{key:"charts",component:e=>(0,n.createElement)(n.Suspense,{fallback:(0,n.createElement)(u.Spinner,null)},(0,n.createElement)(b,e)),title:(0,r.__)("Charts","woocommerce"),isVisible:!0,icon:f,hiddenBlocks:["orders_avg_order_value","avg_items_per_order","products_items_sold","revenue_total_sales","revenue_refunds","coupons_amount","coupons_orders_count","revenue_shipping","taxes_total_tax","taxes_order_tax","taxes_shipping_tax","downloads_download_count"]},{key:"leaderboards",component:e=>(0,n.createElement)(n.Suspense,{fallback:(0,n.createElement)(u.Spinner,null)},(0,n.createElement)(k,e)),title:(0,r.__)("Leaderboards","woocommerce"),isVisible:!0,icon:(0,n.createElement)(w.Z,null),hiddenBlocks:["coupons","customers"]}]);var C=o(5267);const T=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"}));var x=o(59449),D=o(10918);class F extends n.Component{constructor(e){super(e),this.onMoveUp=this.onMoveUp.bind(this),this.onMoveDown=this.onMoveDown.bind(this)}onMoveUp(){const{onMove:e,onToggle:t}=this.props;e(-1),t()}onMoveDown(){const{onMove:e,onToggle:t}=this.props;e(1),t()}render(){const{onRemove:e,isFirst:t,isLast:o,onTitleBlur:s,onTitleChange:a,titleInput:c}=this.props;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"woocommerce-ellipsis-menu__item"},(0,n.createElement)(i.TextControl,{label:(0,r.__)("Section title","woocommerce"),onBlur:s,onChange:a,required:!0,value:c})),(0,n.createElement)("div",{className:"woocommerce-dashboard-section-controls"},!t&&(0,n.createElement)(u.MenuItem,{isClickable:!0,onInvoke:this.onMoveUp},(0,n.createElement)(m.Z,{icon:(0,n.createElement)(x.Z,null),label:(0,r.__)("Move up","woocommerce"),size:20,className:"icon-control"}),(0,r.__)("Move up","woocommerce")),!o&&(0,n.createElement)(u.MenuItem,{isClickable:!0,onInvoke:this.onMoveDown},(0,n.createElement)(m.Z,{icon:(0,n.createElement)(D.Z,null),size:20,label:(0,r.__)("Move down","woocommerce"),className:"icon-control"}),(0,r.__)("Move down","woocommerce")),(0,n.createElement)(u.MenuItem,{isClickable:!0,onInvoke:e},(0,n.createElement)(m.Z,{icon:T,size:20,label:(0,r.__)("Remove block","woocommerce"),className:"icon-control"}),(0,r.__)("Remove section","woocommerce"))))}}const B=F;class M extends n.Component{constructor(e){super(e);const{title:t}=e;this.state={titleInput:t},this.onToggleHiddenBlock=this.onToggleHiddenBlock.bind(this),this.onTitleChange=this.onTitleChange.bind(this),this.onTitleBlur=this.onTitleBlur.bind(this)}onTitleChange(e){this.setState({titleInput:e})}onTitleBlur(){const{onTitleUpdate:e,title:t}=this.props,{titleInput:o}=this.state;""===o?this.setState({titleInput:t}):e&&e(o)}onToggleHiddenBlock(e){return()=>{const t=(0,a.xor)(this.props.hiddenBlocks,[e]);this.props.onChangeHiddenBlocks(t)}}render(){const{component:e,...t}=this.props,{titleInput:o}=this.state;return(0,n.createElement)("div",{className:"woocommerce-dashboard-section"},(0,n.createElement)(e,(0,C.Z)({onTitleChange:this.onTitleChange,onTitleBlur:this.onTitleBlur,onToggleHiddenBlock:this.onToggleHiddenBlock,titleInput:o,controls:B},t)))}}var V=o(79934),H=o(20964);const A=(0,c.applyFilters)("woocommerce_admin_dashboard_filters",[]),z=(0,s.compose)((0,p.withSelect)((e=>{const{woocommerce_default_date_range:t}=e(h.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings");return{defaultDateRange:t}})))((e=>{let{defaultDateRange:t,path:o,query:s}=e;const{updateUserPreferences:c,...l}=(0,h.useUserPreferences)(),p=(0,n.useMemo)((()=>(e=>{if(!e||0===e.length)return S.reduce(((e,t)=>[...e,{...t}]),[]);const t=S.map((e=>e.key)),o=e.map((e=>e.key)),n=new Set([...o,...t]),r=[];return n.forEach((t=>{const o=S.find((e=>e.key===t));if(!o)return;const n=e.find((e=>e.key===t));n&&delete n.icon,r.push({...o,...n})})),r})(l.dashboard_sections)),[l.dashboard_sections]),y=e=>{c({dashboard_sections:e})},f=(e,t)=>{const o=p.map((o=>(delete o.icon,o.key===e?{...o,...t}:o)));y(o)},w=e=>t=>{(0,g.recordEvent)("dash_section_rename",{key:e}),f(e,{title:t})},b=(e,t)=>()=>{t&&t();const o=p.findIndex((t=>e===t.key)),n=p.splice(o,1).shift();n.isVisible=!n.isVisible,p.push(n),n.isVisible?(0,g.recordEvent)("dash_section_add",{key:n.key}):(0,g.recordEvent)("dash_section_remove",{key:n.key}),y(p)},k=(e,t)=>{const o=p.splice(e,1).shift(),n=e+t;if(p[t<0?n:n-1].isVisible||0===e||e===p.length-1){p.splice(n,0,o),y(p);const e={key:o.key,direction:t>0?"down":"up"};(0,g.recordEvent)("dash_section_order_change",e)}else k(e,t+t)};return(0,n.createElement)(H.$.Provider,{value:(0,H.s)((0,_.getQuery)())},(()=>{const{period:e,compare:c,before:l,after:h}=(0,v.getDateParamsFromQuery)(s,t),{primary:_,secondary:g}=(0,v.getCurrentDates)(s,t),y={period:e,compare:c,before:l,after:h,primaryDate:_,secondaryDate:g},E=p.filter((e=>e.isVisible)).map((e=>e.key));return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(V.Z,{report:"dashboard",query:s,path:o,dateQuery:y,isoDateFormat:v.isoDateFormat,filters:A}),p.map(((e,r)=>{return e.isVisible?(0,n.createElement)(M,{component:e.component,hiddenBlocks:e.hiddenBlocks,key:e.key,onChangeHiddenBlocks:(i=e.key,e=>{f(i,{hiddenBlocks:e})}),onTitleUpdate:w(e.key),path:o,defaultDateRange:t,query:s,title:e.title,onMove:(0,a.partial)(k,r),onRemove:b(e.key),isFirst:e.key===E[0],isLast:e.key===E[E.length-1],filters:A}):null;var i})),(()=>{const e=p.filter((e=>!1===e.isVisible));return 0===e.length?null:(0,n.createElement)(i.Dropdown,{position:"top center",className:"woocommerce-dashboard-section__add-more",renderToggle:e=>{let{onToggle:t,isOpen:o}=e;return(0,n.createElement)(i.Button,{onClick:t,title:(0,r.__)("Add more sections","woocommerce"),"aria-expanded":o},(0,n.createElement)(m.Z,{icon:d}))},renderContent:t=>{let{onToggle:o}=t;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(u.H,null,(0,r.__)("Dashboard Sections","woocommerce")),(0,n.createElement)("div",{className:"woocommerce-dashboard-section__add-more-choices"},e.map((e=>(0,n.createElement)(i.Button,{key:e.key,onClick:b(e.key,o),className:"woocommerce-dashboard-section__add-more-btn",title:(0,r.sprintf)((0,r.__)("Add %s section","woocommerce"),e.title)},(0,n.createElement)(m.Z,{className:e.key+"__icon",icon:e.icon,size:30}),(0,n.createElement)("span",{className:"woocommerce-dashboard-section__add-more-btn-title"},e.title))))))}})})())})())}))},36886:(e,t,o)=>{t.Z=function(e){var t=e.size,o=void 0===t?24:t,n=e.onClick,i=(e.icon,e.className),c=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)o=s[n],0<=t.indexOf(o)||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)o=s[n],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,s),l=["gridicon","gridicons-list-ordered",i,!!function(e){return 0==e%18}(o)&&"needs-offset",!1,!1].filter(Boolean).join(" ");return r.default.createElement("svg",a({className:l,height:o,width:o,onClick:n},c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),r.default.createElement("g",null,r.default.createElement("path",{d:"M8 19h13v-2H8v2zm0-6h13v-2H8v2zm0-8v2h13V5H8zm-4.425.252c.107-.096.197-.188.269-.275-.012.228-.018.48-.018.756V8h1.175V3.717H3.959L2.488 4.915l.601.738.486-.401zm.334 7.764c.475-.426.785-.715.93-.867.146-.152.262-.297.35-.435.088-.138.153-.278.195-.42.042-.143.063-.298.063-.466 0-.225-.06-.427-.18-.608s-.289-.32-.507-.417a1.775 1.775 0 00-.742-.148c-.221 0-.419.022-.596.067s-.34.11-.491.195c-.15.085-.336.226-.557.423l.636.744c.174-.15.33-.264.467-.341a.835.835 0 01.409-.116.44.44 0 01.305.097.335.335 0 01.108.264c0 .09-.018.176-.054.258-.036.082-.1.18-.192.294-.092.114-.287.328-.586.64l-1.046 1.058V14h3.108v-.955h-1.62v-.029zm.53 4.746v-.018c.307-.086.541-.225.703-.414.162-.191.243-.419.243-.685a.839.839 0 00-.378-.727c-.252-.176-.6-.264-1.043-.264-.307 0-.579.033-.816.1s-.469.178-.696.334l.48.773c.293-.184.576-.275.85-.275.147 0 .263.027.35.082s.13.139.13.252c0 .301-.294.451-.882.451h-.27v.87h.264c.217 0 .393.016.527.049.135.031.232.08.293.143.061.064.091.154.091.271 0 .152-.058.264-.174.336-.116.07-.301.106-.555.106a2.3 2.3 0 01-.538-.069 2.502 2.502 0 01-.573-.212v.961c.228.088.441.148.637.182.196.033.41.05.64.05.561 0 .998-.114 1.314-.343.315-.228.473-.542.473-.94.003-.585-.355-.923-1.07-1.013z"})))};var n,r=(n=o(99196))&&n.__esModule?n:{default:n},s=["size","onClick","icon","className"];function a(){return a=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},a.apply(this,arguments)}}}]);