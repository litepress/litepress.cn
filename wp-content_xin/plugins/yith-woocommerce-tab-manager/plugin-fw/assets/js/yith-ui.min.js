window.yith=window.yith||{},function(n,e){e.ui=e.ui||{};var o=function(n){if("string"==typeof n)return n;var e=[];for(var t of n)t&&e.indexOf(t)<0&&e.push(o(t));return e.join(" ")};e.ui.confirm=function(t){var l={title:!1,message:!1,onCreate:!1,onConfirm:!1,onCancel:!1,onClose:!1,classes:{wrap:"",content:"",title:"",message:"",footer:"",cancel:"",confirm:""},confirmButtonType:"confirm",cancelButton:yith_plugin_fw_ui.i18n.cancel,confirmButton:yith_plugin_fw_ui.i18n.confirm,width:350,closeAfterConfirm:!0,allowWpMenu:!1,allowWpMenuInMobile:!1,showClose:!0,closeWhenClickingOnOverlay:!1},i={};t=void 0!==t?t:{},(t=n.extend({},l,t)).classes=n.extend({},l.classes,t.classes);var s={wrap:o(["yith-plugin-fw__confirm__wrap",t.classes.wrap]),content:o(["yith-plugin-fw__confirm__content",t.classes.content]),title:o(["yith-plugin-fw__confirm__title",t.classes.title]),message:o(["yith-plugin-fw__confirm__message",t.classes.message]),footer:o(["yith-plugin-fw__confirm__footer",t.classes.footer]),cancel:o(["yith-plugin-fw__confirm__button","yith-plugin-fw__confirm__button--cancel",t.classes.cancel]),confirm:o(["yith-plugin-fw__confirm__button","yith-plugin-fw__confirm__button--"+t.confirmButtonType,t.classes.confirm])},c={message:!1,footer:!1,cancel:!1,confirm:!1},a=!1,r=function(){a&&a.close(),a=!1},f=function(){"function"==typeof t.onCancel&&t.onCancel(),r()},p=function(){"function"==typeof t.onConfirm&&t.onConfirm(),t.closeAfterConfirm&&r()},m=function(){c.cancel.on("click",f),c.confirm.on("click",p)};(function(){c.message=n('<div class="'+s.message+'">'),c.footer=n('<div class="'+s.footer+'">'),c.cancel=n('<span class="'+s.cancel+'">'+t.cancelButton+"</span>"),c.confirm=n('<span class="'+s.confirm+'">'+t.confirmButton+"</span>"),t.message&&c.message.html(t.message),c.footer.append(c.cancel),c.footer.append(c.confirm),a=e.ui.modal({classes:{wrap:s.wrap,title:s.title,content:s.content},title:t.title,content:[c.message,c.footer],width:t.width,allowWpMenu:t.allowWpMenu,allowWpMenuInMobile:t.allowWpMenuInMobile,showClose:t.showClose,onCreate:t.onCreate,onClose:t.onClose,closeWhenClickingOnOverlay:t.closeWhenClickingOnOverlay})})(),m(),i.elements=n.extend({},c),i.modal=n.extend({},a),i.close=r,i.cancel=f},e.ui.modal=function(e){var t={allowWpMenu:!0,allowWpMenuInMobile:!1,title:!1,content:!1,footer:!1,showClose:!0,closeSelector:!1,classes:{wrap:"",main:"",close:"",title:"",content:"",footer:""},width:500,allowClosingWithEsc:!0,closeWhenClickingOnOverlay:!1,scrollContent:!0,onCreate:!1,onClose:!1},l={};e=void 0!==e?e:{},(e=n.extend({},t,e)).classes=n.extend({},t.classes,e.classes);var i=n("#wpwrap"),s={wrap:["yith-plugin-ui","yith-plugin-fw__modal__wrap",e.classes.wrap],main:["yith-plugin-fw__modal__main",e.classes.main],close:["yith-plugin-fw__modal__close","yith-icon","yith-icon-close",e.classes.close],title:["yith-plugin-fw__modal__title",e.classes.title],content:["yith-plugin-fw__modal__content",e.classes.content],footer:["yith-plugin-fw__modal__footer",e.classes.footer]},c={wrap:!1,main:!1,close:!1,title:!1,content:!1,footer:!1},a=function(){n(".yith-plugin-fw__modal__wrap").remove(),i.removeClass("yith-plugin-fw__modal--opened"),i.removeClass("yith-plugin-fw__modal--allow-wp-menu"),i.removeClass("yith-plugin-fw__modal--allow-wp-menu-in-mobile"),w()},r=function(){a(),"function"==typeof e.onClose&&e.onClose()},f=function(){c.wrap=n('<div class="'+o(s.wrap)+'">'),c.main=n('<div class="'+o(s.main)+'">'),c.close=n('<span class="'+o(s.close)+'">'),c.title=n('<div class="'+o(s.title)+'">'),c.content=n('<div class="'+o(s.content)+'">'),c.footer=n('<div class="'+o(s.footer)+'">'),c.main.css({width:e.width}),e.title&&("string"==typeof e.title?c.title.html(e.title):c.title.append(e.title)),e.content&&("string"==typeof e.content?c.content.html(e.content):c.content.append(e.content)),e.showClose&&c.main.append(c.close),c.main.append(c.title),c.main.append(c.content),e.footer&&("string"==typeof e.footer?c.footer.html(e.footer):c.footer.append(e.footer),c.main.append(c.footer)),c.wrap.append(c.main),e.scrollContent&&c.wrap.addClass("yith-plugin-fw__modal__wrap--scroll-content"),i.append(c.wrap),i.addClass("yith-plugin-fw__modal--opened"),e.allowWpMenu&&i.addClass("yith-plugin-fw__modal--allow-wp-menu"),e.allowWpMenuInMobile&&i.addClass("yith-plugin-fw__modal--allow-wp-menu-in-mobile"),"function"==typeof e.onCreate&&e.onCreate()},p=function(o){n(o.target).is(c.wrap)&&e.closeWhenClickingOnOverlay&&r()},m=function(){c.close.on("click",r),e.closeSelector&&i.on("click",e.closeSelector,r),c.wrap.on("click",p),n(document).on("keydown",_)},w=function(){n(document).off("keydown",_)},_=function(n){e.allowClosingWithEsc&&27===n.keyCode&&r()};return a(),f(),m(),l.elements=n.extend({},c),l.close=r,l}}(window.jQuery,window.yith);